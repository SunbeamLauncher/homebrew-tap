# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Smallweb < Formula
  desc ""
  homepage "https://pomdtr.github.io/smallweb"
  version "0.3.2"

  on_macos do
    on_intel do
      url "https://github.com/pomdtr/smallweb/releases/download/v0.3.2/smallweb_0.3.2_darwin_amd64.tar.gz"
      sha256 "ff3dc39d9241485b15a46962fd0a95f7f7b17aea839598975f30e783c943911b"

      def install
        bin.install "smallweb"
      end
    end
    on_arm do
      url "https://github.com/pomdtr/smallweb/releases/download/v0.3.2/smallweb_0.3.2_darwin_arm64.tar.gz"
      sha256 "865b73f58fd5573462b82e3d44f59e60aea04e6ee65d7f350b3f0f076a42cd84"

      def install
        bin.install "smallweb"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.3.2/smallweb_0.3.2_linux_amd64.tar.gz"
        sha256 "bf4b67966286ce1b063e9e7bf8f7d1b57e212a01dd0cc96b0aee9a91f3f0f8a3"

        def install
          bin.install "smallweb"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.3.2/smallweb_0.3.2_linux_arm64.tar.gz"
        sha256 "2caf07d86235a78a972715aae00e742882da73b573b3d223a471aefd4a939f60"

        def install
          bin.install "smallweb"
        end
      end
    end
  end

  service do
    run [ opt_bin/"smallweb", "serve" ]
    keep_alive true
    working_dir HOMEBREW_PREFIX
    log_path var/"log/smallweb.log"
    error_log_path var/"log/smallweb.log"
  end
end
