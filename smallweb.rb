# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Smallweb < Formula
  desc ""
  homepage "https://pomdtr.github.io/smallweb"
  version "0.3.1"

  on_macos do
    on_intel do
      url "https://github.com/pomdtr/smallweb/releases/download/v0.3.1/smallweb_0.3.1_darwin_amd64.tar.gz"
      sha256 "d69737b8f29a72a95abd8f4bd64facab05d0b2dc331edcd21c46108c1077c8da"

      def install
        bin.install "smallweb"
      end
    end
    on_arm do
      url "https://github.com/pomdtr/smallweb/releases/download/v0.3.1/smallweb_0.3.1_darwin_arm64.tar.gz"
      sha256 "0c81248a9bd6272ab0ae7fb2e5810cca7284af8cad89afa11d6d4d7be08544bd"

      def install
        bin.install "smallweb"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.3.1/smallweb_0.3.1_linux_amd64.tar.gz"
        sha256 "4f86b8a72fd2802f7b93967794ca50db0c86709ab68ebc10f547893bbb91c666"

        def install
          bin.install "smallweb"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.3.1/smallweb_0.3.1_linux_arm64.tar.gz"
        sha256 "5e997ac92749801d0b3f6e4edc94abf24b211000183567206b6c87070b011a38"

        def install
          bin.install "smallweb"
        end
      end
    end
  end

  service do
    run [ opt_bin/"smallweb", "serve", "--port=7777" ]
    keep_alive true
    working_dir HOMEBREW_PREFIX
    log_path var/"log/smallweb.log"
    error_log_path var/"log/smallweb.log"
  end
end
