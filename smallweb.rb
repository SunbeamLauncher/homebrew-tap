# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Smallweb < Formula
  desc ""
  homepage "https://pomdtr.github.io/smallweb"
  version "0.2.4"

  on_macos do
    on_intel do
      url "https://github.com/pomdtr/smallweb/releases/download/v0.2.4/smallweb_0.2.4_darwin_amd64.tar.gz"
      sha256 "bf0dbc58c23599489261c3a8a1ad1b36c494d71d078a0d9c140abc9744a46084"

      def install
        bin.install "smallweb"
      end
    end
    on_arm do
      url "https://github.com/pomdtr/smallweb/releases/download/v0.2.4/smallweb_0.2.4_darwin_arm64.tar.gz"
      sha256 "434e7f09d3394b60b75fb9710968240c7f48c582c859d525dc31ceeecdda2ffd"

      def install
        bin.install "smallweb"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.2.4/smallweb_0.2.4_linux_amd64.tar.gz"
        sha256 "31f28786aba1405a3ca963f9f4693483def94f250f3c7cc0a709df5d6d4e4487"

        def install
          bin.install "smallweb"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/pomdtr/smallweb/releases/download/v0.2.4/smallweb_0.2.4_linux_arm64.tar.gz"
        sha256 "6489d9de4223f9135664e8824f33f513b0370dc08e412fb3f1d032e62eb9bb32"

        def install
          bin.install "smallweb"
        end
      end
    end
  end

  service do
    run [ opt_bin/"smallweb", "serve", "--port=7777" ]
    keep_alive true
    working_dir HOMEBREW_PREFIX
    log_path var/"log/smallweb.log"
    error_log_path var/"log/smallweb.log"
  end
end
